


<div class="span3">
  <div class="well sidebar-nav" id="chart">
    <h3>Graph</h3>

  </div><!--/.well -->
</div><!--/span-->

<div class="page-header">
</div>
<div class="statistics">
  <h3> Statistics </h3>
  <p> The total number of tweets retrieved: <%= @groups[4] %> </p>
  <p> The number of tweets sent within 1 and 15 minutes: <%= @groups[0] %> </p>
  <p> The total number of tweets sent within 16 and 1 hour: <%= @groups[1] %> </p>
  <p> The total number of tweets sent within one hour and two hours: <%= @groups[2] %> </p>
  <p> The total number of tweets sent more than two hours ago: <%= @groups[3] %> </p>
</div>
<table class="table table-striped">
  <thead>
  <tr>
    <th>Number</th>
    <th>Name</th>
    <th>Location</th>
    <th>Tweet</th>
    <th>Time Tweeted </th>

  </tr>
  </thead>
  <tbody>
  <% @number = 0 %>
  <% @tweets.each do |tweet| %>

        <% @number += 1 %>
      <tr>
        <td><%= @number %></td>
        <td><%= tweet.user.screen_name%></td>
        <td><%= tweet.user.location %></td>
        <td><%= tweet.text %></td>
        <td><%= tweet.created_at %></td>

      </tr>
  <% end %>

  </tbody>
</table>
<script type="text/javascript">

    var dataArray = <%= [@groups[0],@groups[1], @groups[2], @groups[3] ]%>;

    var canvas = d3.select("#chart")
            .append("svg")
            .attr("width", 250)
            .attr("height", 150)
    var bars = canvas.selectAll("rect")
            .data(dataArray)
            .enter()
            .append("rect")
            .attr("width", function(d) {return d;})
            .attr("height", 15)
            .attr("y", function (d, i){return i * 30;})

</script>


